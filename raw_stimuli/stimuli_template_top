var shuffleSequence = seq("intro", 
                          "intro_sep", 
                          //sepWith("within_intro_sep", 
                                  "practice"
                          //       )
                          , 
                          "practice_sep", 
                          //sepWith("sep", 
                                  rshuffle(startsWith("condition_"), startsWith("filler"))
                          //       )
                          ,
                          "send_results",
                         "debrief"); 
var practiceItemTypes = ["prac"];

// default settings
var manualSendResults = true;

var defaults = [
    "Separator", {
        normalMessage: "Lütfen bekleyiniz."
    },
    "DashedSentence", {
        mode: "speeded acceptability", display: "in place",
        wordTime:350,
        wordPauseTime:150,
    },
    "DashedAcceptabilityJudgment", {
        hasCorrect: false
    },
    "Question", {
        as: [["q","KÖTÜ (Q'ya basın)"],["p","İYİ (P'ye basın)"]],
        q: "Bu cümle nasıl bir cümleydi?",
        hasCorrect: false,
        presentAsScale: true,
        randomOrder: false,
        showNumbers: true,
        autoFirstChar: false, 
        wordTime:300,
        wordPauseTime:200,
        instructions: " "
    },
    "Message", {
        hideProgressBar: false
    },
    "Form", {
        hideProgressBar: false,
        continueOnReturn: true,
        saveReactionTime: true,
        continueMessage: "Devam etmek için buraya tıklayınız.",
        obligatoryCheckboxErrorGenerator: function (field) { return "Bu alanı doldurmanız gerekmektedir." },
        obligatoryErrorGenerator: function (field) { return "Bu alanı doldurmanız gerekmektedir."; },
        obligatoryRadioErrorGenerator: function (field) { return "Seçeneklerden birini seçiniz."; }
        
    }
];

 // insert breaks
function modifyRunningOrder(ro) {

 for (var i = 0; i < ro.length; ++i) {
 if (i % 20 == 25 && i > 20 && i < 200) {
 ro[i].push(new DynamicElement(
 "Message",
 { html: "<p>Kısa bir ara verelim. Deney 10 saniye içerisinde devam edecektir.</p>", transfer: 10000 },
 true
 ));
 }
 }
 return ro;
 }



var items = [
    ["send_results", "__SendResults__", { }],

    ["sep", "Separator", {
        normalMessage: "",
        errorMessage: "",
        ignoreFailure: false}],
    
    ["intro_sep", "Separator", {
        transfer: "keypress",
        normalMessage: "Alıstırma kısmına başlamak için boşluk tuşuna basınız.",
        errorMessage: "Alıstırma kısmına başlamak için boşluk tuşuna basınız." }],


    ["within_intro_sep", "Separator", {
        transfer: "keypress",
        normalMessage: "Harika. İyi gidiyorsunuz. Bir sonraki cümleye geçmek için boşluk tuşuna basınız.",
        errorMessage: "Odaklanınız. Bir sonraki soruya geçmek için boşluk tuşuna basınız."}],
    
    ["practice_sep", "Separator", {
        transfer: "keypress",
        normalMessage: "Deneye başlamak için boşluk tuşuna basınız.",
        errorMessage: "Odaklanınız. Bir sonraki soruya geçmek için boşluk tuşuna basınız." }],


    ["intro", "Form", {
        html: { include: "intro1.html" },
        obligatoryCheckboxErrorGenerator: function (field) { return "Devam etmeden önce çalismaya katılmayı kabul etmelisiniz."; }
    } ],
    
    ["intro", "Form", {
        html: { include: "intro2.html" },
        validators: {
            age: function (s) { if (s.match(/^\d+$/)) return true; else return "Yaşınızı sayı olarak giriniz."; },
        }
    } ],

    ["intro", "Form", {
        html: { include: "intro3.html" } } ],

    ["intro", "Form", {
        html: { include: "intro4.html" },
        transfer: "keypress"
        //continueMessage: "Alıştırma kısmına başlamak için boşluk tuşuna basınız." 
    } ],

    ["debrief", "Message", {
        html: { include: "debrief.html" },
                transfer: 3000  }]

// Practice
    
// Practice
    
["prac", "DashedSentence", {s: ["Bu", "kısım", "deneye", "ve", "sunum", "yöntemine", "alışmanız", "için", "bulunmaktadır."]}],
["prac", "DashedSentence", {s: ["Bu", "cümle", "öncekinden", "daha", "uzun", "bir", "cümle.", "          ", "Okuması", "biraz", "daha", "zor", "olsa_da", "sunum", "şekli", "aslında", "aynı."]}],

["prac", Message, {consentRequired: false, transfer: "keypress",
                     html: ["div",
                           ["p", "Harika! Şimdi deneyde göreceğiniz türden cümlelere bakalım. Birazdan göreceğiniz cümleler İYİ diyebileceğimiz cümlelerden. "],
                           ["p", "Devam etmek için 'boşluk' tuşuna basınız."]
                           ]}],

["prac", "DashedSentence", {s: ["Teyzemin", "komşusu", "yerden", "kalkıp", "oturunca", "önündeki", "kedinin", "başını", "okşadı."]}],
["prac", "DashedSentence", {s: ["Utku'nun", "kızı", "yürüyene", "kadar", "bir","sürü","oyuncak","alınmıştı."]}],

["prac", Message, {consentRequired: false, transfer: "keypress",
                    html: ["div",
                          ["p", "Az önce okuduğunuz cümleler gibi cümleler Türkçe'de kabul edilebilir cümlelerdir."],
                          ["p", "Bir de KÖTÜ diyebileceğimiz cümlelerden örnekler görelim."],
                          ["p", "Devam etmek için 'boşluk' tuşuna basınız."]
                          ]}],

["prac", "DashedSentence", {s: ["Öğrencinin", "asistanı", "gelince", "ders", "çok", "güzel", "anlattı."]}],
["prac", "DashedSentence", {s: ["Asistanın", "öğrencisi", "dinlenince", "ders", "ara", "verdiler."]}],   

["prac", Message, {consentRequired: false, transfer: "keypress",
                    html: ["div",
                          ["p", "Nasıl gidiyor? Elinin alışması için biraz daha örnek cümle girelim."],
                          ["p", "Devam etmek için 'boşluk' tuşuna basınız."]
                          ]}],

["prac", "DashedSentence", {s: ["İmamın", "kedisi", "doğurunca", "mahalle", "sevinç", "oldukça" , "katlandı."]}],
["prac", "DashedSentence", {s: ["Evin","cephesi", "bitince", "boyaları","toplayıp","gittiler."]}],
["prac", "DashedSentence", {s: ["Kimsenin","çocuğu", "ağlamayınca","yeni", "yazılan", "kitap", "kimseye", "okumadı."]}],

    
["prac", Message, {consentRequired: false, transfer: "keypress",
                     html: ["div",
                           ["p", "Elinizin ısındığını umuyorum. Hazır olduğunuzu hissettiğinizde 'boşluk' tuşuna basarak ilerleyiniz."],
                           ["p", "NOT: Vereceğiniz cevaplar üzerine çok düşünmeyin! Tamamlayacağınız deneyde 'doğru' ya da 'yanlış' cevap bulunmamaktadır. Deney yaklaşık X dakika sürecek ve bu süre zarfında deneye odaklanmanız gerekmektedir. Katılımınız için çok teşekkürler!"]
                           ]}],


["presepA", Separator, {transfer: 3000, normalMessage: "Telefonunuzu ve diğer dikkat dağıtıcı unsurlardan deney esnasında uzak durmanız bizim için çok daha iyi olacaktır." }],
["dummysep", Separator, {transfer: 10, normalMessage: ""}],
